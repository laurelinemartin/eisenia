<!-- This is a static file -->
<!-- served from your routes in server.js -->
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Permet de référencer, de retrouver et de modifier l'état de lombricomposteurs.">

    <title>Lombricomposteurs d'Eisenia !</title>
    <link id="favicon" rel="icon" href="http://lezebre.info/wp-content/uploads/2015/02/logo_eisenia-b97bb.jpg" type="image/x-icon">
    <link rel="stylesheet" href="/style.css">
    
    <script src="/client.js" defer></script>
  </head>
  
  
  <body>
    <header>
      <h1>
        Les lombricomposteurs d'Eisenia
      </h1>
      <!-- <menu type="toolbar" label="mainMenu">
        <button type="submit" method="GET" action="/access">Voir</button>
        <button type="submit" method="GET" action="/addLombri">Ajouter</button>
        <button type="submit" method="GET" action="/changeLombri">Modifier</button>
        <button type="submit" method="GET" action="/alertLombri">Alertes</button> 
      </menu>-->
    </header>

    <main> 
      {% if id == 0 %}
      <h2>Accueil :</h2>
      <div class="home">
        <form method="GET" action="/access">
          <button type="submit" id="submitAccess">Voir un lombricomposteurs</button>
        </form>
        <form method="GET" action="/changeLombri">
          <button type="submit" id="submitAccessChange">Modifier un lombricomposteur</button>
        </form>
        <form method="GET" action="/addLombri">
          <button type="submit" id="submitGetAddLombri">Ajouter un lombricomposteur</button>
        </form>
        <form method="GET" action="/alertLombri">
          <button type="submit" id="submitGetAlertLombri">Lombricomposteurs à voir</button>
        </form>
      </div>
      {% endif %}
      {% if id == 1 %}
      <div class="getLombriForm">
        <h2>Trouver un lombricomposteur : </h2>
        <form method="POST" action="/lombriNom">
          <select id="select" name="nom" size="1">
            {% for l in lombriNom%}
            <option name="nom">{{ l.nom }}</option>
            {% endfor %}
          </select>
          <button type="submit" id="submitGetLombri">Rechercher</button>
        </form>
      </div>
      {% endif %}
      {% if id == 3 %}
      <div class="seeLombriLists">
        {% for lo in lombri %}
        <h2>{{lo.nom}}</h2>
        <ul id="seeLocLombri" > Infos localisation : 
            <li>Adresse : {{ lo.adresse }}</li>
            <li>Code postal : {{ lo.cp }}</li>
        </ul>
        <ul id="seeInstallLombri"> Infos installation :
            <li>Date d'installation : {{ lo.date_install }}</li>
            <li>Structure : {{ lo.structure  }}</li>
        </ul>
        <ul id="seeDescLombri"> Infos Description :
            <li>Capacité : {{ lo.capacite }} T/an</li>
            <li>Taux d'utilisation : {{ lo.taux_util }} %</li>
            <li>Tonnage traité : {{ lo.tonnage_traite }} T/an</li>
            <li>Contributeur : {{ lo.contributeur }}</li>
            <li>Fréquence des tournées : {{ lo.frequence }} jours</li>
        </ul>
        <ul id="seeStateLombri"> Infos Etat :
            <li>Code cadenas : {{ lo.cadenas }}</li>
            <li>Date du dernier passage : {{ lo.suivi }}</li>
            <li>Remarques : "{{ lo.remarque }}"</li>
            <li>Remarques liées au confinement : "{{ lo.confinement }}"</li>
            <li>Date de récolte : {{ lo.recolte }}</li>
        </ul>
        <ul id="seeHumanLombri"> Infos Personnes concernées :
            <li>Contact sur place : {{ lo.contact }}</li>
            <li>Responsable sur site : {{ lo.responsable_site }}</li>
            <li>Responsable Eisenia : {{ lo.responsable_eisenia }}</li>
        </ul>
        <form method="GET" action="/changeLombri">
              <button type="submit" id="submitChangeLombri">Modifier ce lombricomposteur</button>
        </form>
        {% endfor %}
      </div>
      {% endif %}
      {% if id == 2 %}
      <div class="addLombriForm">
        <h2>Ajouter un lombricomposteur :</h2>
        <form method="POST" action="/addLombri">
          Nom du lombricomposteur : <input type="text" name="nom" placeholder="ex : Nom"><br>
          Adresse : <input type="text" name="adresse" placeholder="ex : 1, rue du lombricomposteur"><br>
          Code postal : <input type="text" name="cp" placeholder="ex : 69000"><br>
          Date d'installation : <input type="date" name="date_install" placeholder="ex : 01/01/2001"><br>
          Structure : <input type="text" name="structure" placeholder="ex : Q"><br>
          Capacité (en tonne, n'entrez que la valeur chiffrée, pas d'unité) : <input type="number" name="capacite" placeholder="ex : 2"><br>
          Taux d'utilisation (en %, n'entrez que la valeur chiffrée, pas d'unité) : <input type="number" name="taux_util" placeholder="ex : 95"><br>
          Tonnage traité (n'entrez que la valeur chiffrée, pas d'unité) : <input type="number" name="tonnage_traite" placeholder="ex : 1.8"><br>
          Contributeur(s) : <input type="text" name="contributeur" placeholder="ex : 10 foyers"><br>
          Code cadenas : <input type="text" name="cadenas" placeholder="ex : 1111"><br>
          Fréquence tournée (en jours, n'entrez que la valeur chiffrée, pas d'unité) : <input type="number" name="frequence" placeholder="ex : 90"><br>
          Date du dernier passage : <input type="date" name="suivi" placeholder="ex : 01/01/2001"><br>
          Remarques : <input type="text" name="remarque" placeholder="ex : Ce lombricomposteur est parfait !"><br>
          Date de récolte : <input type="date" name="recolte" placeholder="ex : 01/01/2001 ou prochainement..."><br>
          Contact sur place : <input type="text" name="contact" placeholder="ex : Mme Fandevers"><br>
          Responsable sur site : <input type="text" name="responsable_site" placeholder="ex : Le syndic de Mme Fandevers"><br>
          Responsable Eisenia : <input type="text" name="responsable_eisenia" placeholder="ex : Ver-onique"><br>
          Remarques liées au confinement : <input type="text" name="confinement" placeholder="ex : tout va bien."><br>
          <button type="submit" id="submitAddLombri">Ajouter</button>
        </form>
      </div>
      {% endif %}
      {% if id == 4 %}
      <div class="postChangeLombriForm">
        <h2>Modifier un lombricomposteur :</h2>
        <form method="POST" action="/changeLombri">
          Nom du lombricomposteur : 
          <select id="selectNomChangeLombri" name="nom" size="1">
            {% for l in lombriNom%}
            <option name="nom">{{ l.nom }}</option>
            {% endfor %}
          </select><br>
<!--      Adresse : <input type="text" name="adresse" placeholder="ex : 1, rue du lombricomposteur"><br>
          Code postal : <input type="text" name="cp" placeholder="ex : 69000"><br>
          Date d'installation : <input type="text" name="date_install" placeholder="ex : 01/01/2001"><br>
          Structure : <input type="text" name="structure" placeholder="ex : Q"><br>
          Capacité (en tonne, n'entrez que la valeur chiffrée, pas d'unité) : <input type="text" name="capacite" placeholder="ex : 2"><br>
          Taux d'utilisation (en %, n'entrez que la valeur chiffrée, pas d'unité) : <input type="text" name="taux_util" placeholder="ex : 95"><br>
          Tonnage traité (n'entrez que la valeur chiffrée, pas d'unité) : <input type="text" name="tonnage_traite" placeholder="ex : 1.8"><br>
          Contributeur(s) : <input type="text" name="contributeur" placeholder="ex : 10 foyers"><br>
          Code cadenas : <input type="text" name="cadenas" placeholder="ex : 1111"><br>
          Fréquence tournée (en jours, n'entrez que la valeur chiffrée, pas d'unité) : <input type="text" name="frequence" placeholder="ex : 90"><br>
          Contact sur place : <input type="text" name="contact" placeholder="ex : Mme Fandevers"><br>
          Responsable sur site : <input type="text" name="responsable_site" placeholder="ex : Le syndic de Mme Fandevers"><br>
          Responsable Eisenia : <input type="text" name="responsable_eisenia" placeholder="ex : Ver-onique"><br>
          Remarques liées au confinement : <input type="text" name="confinement" placeholder="ex : tout va bien."><br>    -->
          Date du dernier passage : <input type="date" name="suivi" placeholder="ex : 01/01/2001"><br>
          Remarques : <input type="text" name="remarque" placeholder="ex : Ce lombricomposteur est parfait !"><br>
          Date de récolte : <input type="date" name="recolte" placeholder="ex : 01/01/2001 ou prochainement..."><br>
          <button type="submit" id="submitPostChangeLombri">Modifier</button>
        </form>
      </div>
      {% endif %}
      {% if id == 5 %}
      <div class="alertLombriList">
        <h2>Les lombricomposteurs à voir</h2>
        <ul id="seeAlertList">
          {% for l in lombri %}
            <li> {{ l.nom }} : pas vu depuis {{ l.date }} jours, fréquence requise {{ l.frequence }} jours;</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </main>

    <footer>
      Code source <a id="codesource" href="https://github.com/laurelinemartin/eisenia">ici</a>
    </footer>

  </body>
</html>
